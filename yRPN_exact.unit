#!/usr/local/bin/koios
#   koios-polos (axis of heaven) unit testing meta-language



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
PREP          include the prototype headers                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   incl       include main header                  yRPN.h                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   incl       include private header               yRPN_priv.h                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP    [¿Ë]  (EXACT) verify retrieving a token by index                        0s   index           yrpn_exact__by_index                                                         ((15.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       setup some testing variables                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((15.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     prepare for testing                  yrpn__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     local    create a working/return variable     - - - - - - - - - - - - -   char  x_type   = '-';                                                                                                                                                                                                      
     local    create a working/return variable     - - - - - - - - - - - - -   char  x_detail [LEN_FULL]  = "";                                                                                                                                                                                           
     local    create a working/return variable     - - - - - - - - - - - - -   short x_beg    = 0;                                                                                                                                                                                                        

   COND       verify getting count of list                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((15.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     find next operator                   yrpn_exact__by_index        "v,aåv,båv,cåo,*åo,+åv,dåv,eåo,/åv,fåo,*åo,-"                  , -1    , &x_type , x_detail, &x_beg   i_equal     11                                                                                                   
     echo     ... check type                       - - - - - - - - - - - - -   x_type                                                                                                i_equal     '-'                                                                                                      
     echo     ... check operator                   - - - - - - - - - - - - -   x_detail                                                                                              s_equal                                                                                                              
     echo     ... check beg                        - - - - - - - - - - - - -   x_beg                                                                                                 i_equal     -1                                                                                                       

   COND       attempt a null work                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((15.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     find next operator                   yrpn_exact__by_index        NULL                                                           , 0     , &x_type , x_detail, &x_beg   i_lesser    0                                                                                                    
     echo     ... check type                       - - - - - - - - - - - - -   x_type                                                                                                i_equal     '-'                                                                                                      
     echo     ... check operator                   - - - - - - - - - - - - -   x_detail                                                                                              s_equal                                                                                                              
     echo     ... check beg                        - - - - - - - - - - - - -   x_beg                                                                                                 i_equal     -1                                                                                                       

   COND       attempt an empty work                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((15.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     find next operator                   yrpn_exact__by_index        ""                                                             , 0     , &x_type , x_detail, &x_beg   i_lesser    0                                                                                                    
     echo     ... check type                       - - - - - - - - - - - - -   x_type                                                                                                i_equal     '-'                                                                                                      
     echo     ... check operator                   - - - - - - - - - - - - -   x_detail                                                                                              s_equal                                                                                                              
     echo     ... check beg                        - - - - - - - - - - - - -   x_beg                                                                                                 i_equal     -1                                                                                                       

   COND       verify retrieving head/first                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((15.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     find next operator                   yrpn_exact__by_index        "v,aåv,båv,cåo,*åo,+åv,dåv,eåo,/åv,fåo,*åo,-"                  , 0     , &x_type , x_detail, &x_beg   i_equal     0                                                                                                    
     echo     ... check type                       - - - - - - - - - - - - -   x_type                                                                                                i_equal     'v'                                                                                                      
     echo     ... check operator                   - - - - - - - - - - - - -   x_detail                                                                                              s_equal     a                                                                                                        
     echo     ... check beg                        - - - - - - - - - - - - -   x_beg                                                                                                 i_equal     0                                                                                                        

   COND       verify retrieving tail/last                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((15.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     find next operator                   yrpn_exact__by_index        "v,aåv,båv,cåo,*åo,+åv,dåv,eåo,/åv,fåo,*åo,-"                  , 10    , &x_type , x_detail, &x_beg   i_equal     0                                                                                                    
     echo     ... check type                       - - - - - - - - - - - - -   x_type                                                                                                i_equal     'o'                                                                                                      
     echo     ... check operator                   - - - - - - - - - - - - -   x_detail                                                                                              s_equal     -                                                                                                        
     echo     ... check beg                        - - - - - - - - - - - - -   x_beg                                                                                                 i_equal     40                                                                                                       

   COND       verify retrieving from middle                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((15.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     find next operator                   yrpn_exact__by_index        "v,aåv,båv,cåo,*åo,+åv,dåv,eåo,/åv,fåo,*åo,-"                  , 5     , &x_type , x_detail, &x_beg   i_equal     0                                                                                                    
     echo     ... check type                       - - - - - - - - - - - - -   x_type                                                                                                i_equal     'v'                                                                                                      
     echo     ... check operator                   - - - - - - - - - - - - -   x_detail                                                                                              s_equal     d                                                                                                        
     echo     ... check beg                        - - - - - - - - - - - - -   x_beg                                                                                                 i_equal     20                                                                                                       

   COND       attempt a negative index                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((15.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     find next operator                   yrpn_exact__by_index        "v,aåv,båv,cåo,*åo,+åv,dåv,eåo,/åv,fåo,*åo,-"                  , -2    , &x_type , x_detail, &x_beg   i_lesser    0                                                                                                    
     echo     ... check type                       - - - - - - - - - - - - -   x_type                                                                                                i_equal     '-'                                                                                                      
     echo     ... check operator                   - - - - - - - - - - - - -   x_detail                                                                                              s_equal                                                                                                              
     echo     ... check beg                        - - - - - - - - - - - - -   x_beg                                                                                                 i_equal     -1                                                                                                       

   COND       attempt a too large index                                          - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((15.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     find next operator                   yrpn_exact__by_index        "v,aåv,båv,cåo,*åo,+åv,dåv,eåo,/åv,fåo,*åo,-"                  , 11    , &x_type , x_detail, &x_beg   i_lesser    0                                                                                                    
     echo     ... check type                       - - - - - - - - - - - - -   x_type                                                                                                i_equal     '-'                                                                                                      
     echo     ... check operator                   - - - - - - - - - - - - -   x_detail                                                                                              s_equal                                                                                                              
     echo     ... check beg                        - - - - - - - - - - - - -   x_beg                                                                                                 i_equal     -1                                                                                                       

   COND       clean-up                                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.024))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap-up for testing                  yrpn__unit_end                                                                                                                    i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP          (EXACT) verify single action                                      0s   two             yrpn_exact__act_two                                                          ((15.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       setup some testing variables                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((15.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     prepare for testing                  yrpn__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     local    create a working/return variable     - - - - - - - - - - - - -   char  x_work   [LEN_RECD]  = "";                                                                                                                                                                                           

   COND  (0)  prepare the input string                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((15.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     local    reload input                         - - - - - - - - - - - - -   strcpy (x_work, "v,aåv,båv,cåo,*åo,+åv,dåv,eåo,/åv,fåo,*åo,-");                                                                                                                                                                                                         
     echo     ... check work                       - - - - - - - - - - - - -   x_work                                                                                                s_equal     v,aåv,båv,cåo,*åo,+åv,dåv,eåo,/åv,fåo,*åo,-                                                                                                         

   COND       verify making first update                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((15.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call action                          yrpn_exact__act_two         x_work       , 3     , 2     , S_LEFT                                                                 i_equal     0                                                                                                    
     echo     ... check work                       - - - - - - - - - - - - -   x_work                                                                                                s_equal     v,aå(b¥c)åo,+åv,dåv,eåo,/åv,fåo,*åo,-                                                                                                         

   COND       verify making second update                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((15.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call action                          yrpn_exact__act_two         x_work       , 2     , 2     , S_LEFT                                                                 i_equal     0                                                                                                    
     echo     ... check work                       - - - - - - - - - - - - -   x_work                                                                                                s_equal     (a+(b¥c))åv,dåv,eåo,/åv,fåo,*åo,-                                                                                                         

   COND       verify making third update                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((15.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call action                          yrpn_exact__act_two         x_work       , 3     , 2     , S_LEFT                                                                 i_equal     0                                                                                                    
     echo     ... check work                       - - - - - - - - - - - - -   x_work                                                                                                s_equal     (a+(b¥c))å(d/e)åv,fåo,*åo,-                                                                                                         

   COND       verify making fourth update                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((15.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call action                          yrpn_exact__act_two         x_work       , 3     , 2     , S_LEFT                                                                 i_equal     0                                                                                                    
     echo     ... check work                       - - - - - - - - - - - - -   x_work                                                                                                s_equal     (a+(b¥c))å((d/e)¥f)åo,-                                                                                                         

   COND       verify making fifth update                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((15.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call action                          yrpn_exact__act_two         x_work       , 2     , 2     , S_LEFT                                                                 i_equal     0                                                                                                    
     echo     ... check work                       - - - - - - - - - - - - -   x_work                                                                                                s_equal     ((a+(b¥c))-((d/e)¥f))                                                                                                            

   COND       clean-up                                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.024))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap-up for testing                  yrpn__unit_end                                                                                                                    i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP          (EXACT) verify single action                                      0s   one             yrpn_exact__act_one                                                          ((15.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       setup some testing variables                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((15.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     prepare for testing                  yrpn__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     local    create a working/return variable     - - - - - - - - - - - - -   char  x_work   [LEN_RECD]  = "";                                                                                                                                                                                           

   COND  (0)  prepare the input string                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((15.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     local    reload input                         - - - - - - - - - - - - -   strcpy (x_work, "v,aåo,∆åv,båo,«åo,+åo,Œ");                                                                                                                                                                                                                         
     echo     ... check work                       - - - - - - - - - - - - -   x_work                                                                                                s_equal     v,aåo,∆åv,båo,«åo,+åo,Œ                                                                                                                                              

   COND       verify making first update                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((15.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call action                          yrpn_exact__act_one         x_work       , 1     , 1     , S_LEFT                                                                 i_equal     0                                                                                                    
     echo     ... check work                       - - - - - - - - - - - - -   x_work                                                                                                s_equal     (a∆)åv,båo,«åo,+åo,Œ                                                                                                                                              

   COND       verify making second update                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((15.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call action                          yrpn_exact__act_one         x_work       , 2     , 1     , S_LEFT                                                                 i_equal     0                                                                                                    
     echo     ... check work                       - - - - - - - - - - - - -   x_work                                                                                                s_equal     (a∆)å(b«)åo,+åo,Œ                                                                                                                                              

   COND       verify making third update                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((15.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call action                          yrpn_exact__act_two         x_work       , 2     , 2     , S_LEFT                                                                 i_equal     0                                                                                                    
     echo     ... check work                       - - - - - - - - - - - - -   x_work                                                                                                s_equal     ((a∆)+(b«))åo,Œ                                                                                                                                              

   COND       verify making fourth update                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((15.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call action                          yrpn_exact__act_one         x_work       , 1     , 1     , S_LEFT                                                                 i_equal     0                                                                                                    
     echo     ... check work                       - - - - - - - - - - - - -   x_work                                                                                                s_equal     (((a∆)+(b«))Œ)                                                                                                                                             

   COND       clean-up                                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.024))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap-up for testing                  yrpn__unit_end                                                                                                                    i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP          (EXACT) verify full transformation                                0s   exact           yrpn_exact                                                                   ((15.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       setup some testing variables                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((15.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     prepare for testing                  yrpn__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     local    create a working/return variable     - - - - - - - - - - - - -   char  x_work   [LEN_RECD]  = "";                                                                                                                                                                                           

   COND       verify transformation                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((15.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     local    reload input                         - - - - - - - - - - - - -   strcpy (x_work, "v,aåv,båv,cåo,*åo,+åv,dåv,eåo,/åv,fåo,*åo,-");                                                                                                                                                                                                         
     echo     ... check work                       - - - - - - - - - - - - -   x_work                                                                                                s_equal     v,aåv,båv,cåo,*åo,+åv,dåv,eåo,/åv,fåo,*åo,-                                                                                                         
     exec     call transformation                  yrpn_exact                  x_work                                                                                                i_equal     0                                                                                                    
     get      ... verify output                    yrpn__unit                  "o_exact"    ,   0                                                                                    s_equal     yRPN exact  (¨¨) : ¨¨¨Â(a+(b¥c))-((d/e)¥f)Ê                                             

   COND       verify transformation                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((15.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     local    reload input                         - - - - - - - - - - - - -   strcpy (x_work, "v,aåo,∆åv,båo,«åo,+åo,Œ");                                                                                                                                                                                                                         
     echo     ... check work                       - - - - - - - - - - - - -   x_work                                                                                                s_equal     v,aåo,∆åv,båo,«åo,+åo,Œ                                                                                                                                              
     exec     call transformation                  yrpn_exact                  x_work                                                                                                i_equal     0                                                                                                    
     get      ... verify output                    yrpn__unit                  "o_exact"    ,   0                                                                                    s_equal     yRPN exact  (¨¨) : ¨¨¨Â((a∆)+(b«))ŒÊ                                             

   COND       clean-up                                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.024))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap-up for testing                  yrpn__unit_end                                                                                                                    i_equal     0                                                                                                    


